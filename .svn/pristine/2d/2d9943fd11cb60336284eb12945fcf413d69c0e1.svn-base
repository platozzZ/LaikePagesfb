(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-collection-collection"],{"0652":function(e,t,i){"use strict";var a,n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"box"},[i("lktauthorize",{ref:"lktAuthorizeComp",on:{pChangeLoginStatus:function(t){arguments[0]=t=e.$handleEvent(t),e.changeLoginStatus.apply(void 0,arguments)}}}),i("div",{staticClass:"data_h",style:{height:e.halfWidth}},[i("div",{staticClass:"data_h_h",style:{height:e.halfWidth}})]),i("div",{staticClass:"navtion",style:{top:e.halfWidth}},[i("div",[i("div",{staticClass:"header"},[i("img",{attrs:{src:e.back},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._back.apply(void 0,arguments)}}}),i("v-uni-view",[e._v("我的收藏")]),e.collection1.length&&1==e.navType?i("p",{class:{active:!e.collection1.length},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._state.apply(void 0,arguments)}}},[e._v(e._s(e.state))]):e.collection.length&&2==e.navType?i("p",{class:{active:!e.collection.length},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._state.apply(void 0,arguments)}}},[e._v(e._s(e.state))]):i("p")],1)])]),i("v-uni-view",{staticClass:"twins"},[i("v-uni-view",{staticClass:"nav_twin",class:{nav_twin_hover:e.navActive},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeNav(!0,1)}}},[e._v("商品收藏"),1==e.navActive?i("v-uni-view",{staticClass:"nav_line"}):e._e()],1),i("v-uni-view",{staticClass:"nav_twin",class:{nav_twin_hover:!e.navActive},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeNav(!1,2)}}},[e._v("店铺收藏"),0==e.navActive?i("v-uni-view",{staticClass:"nav_line"}):e._e()],1)],1),e.loadFlag?[1==e.navActive?i("v-uni-view",{staticStyle:{flex:"1",overflow:"scroll"}},[e.collection1.length?i("ul",[e._l(e.collection1,function(t,a){return i("li",{key:t.p_id,staticClass:"list_li"},[e.statevalue?i("div",{staticClass:"list_imgBox",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e._checkedOne(t,a)}}},[i("img",{staticClass:"quan_img list_img",attrs:{src:e.display_img1[a]?e.quan_hei:e.quan_hui}})]):e._e(),i("img",{attrs:{src:t.imgurl},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e._goods(t.p_id)}}}),i("v-uni-view",{class:e.statevalue?"sc_right_X":"sc_right_Y",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e._goods(t.p_id)}}},[i("div",{staticClass:"describe",class:{left:e.statevalue}},[i("span",[e._v(e._s(t.product_title))])]),i("v-uni-view",{staticClass:"dp_css"},[e._v("店铺："+e._s(t.mch_name))]),i("div",{staticClass:"collection_button"},[i("span",{staticClass:"span_b1"},[e._v("￥"+e._s(t.price))]),i("span",{staticClass:"span_b2"},[e._v("￥"+e._s(t.yprice))]),i("div",{on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e._find(t.p_id)}}},[i("span",[e._v("看相似")])])])],1)],1)}),i("li",{staticStyle:{height:"98rpx"}})],2):i("div",{staticClass:"noFindDiv"},[i("div",[i("img",{staticClass:"noFindImg",attrs:{src:e.noCol}})]),i("span",{staticClass:"noFindText"},[e._v("您还没有收藏的商品哦！")])])]):i("v-uni-view",{},[e.collection.length?i("ul",e._l(e.collection,function(t,a){return i("li",{key:a,staticClass:"list_li",on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e._goStore(t)}}},[e.statevalue?i("div",{staticClass:"list_imgBox",on:{click:function(i){i.stopPropagation(),arguments[0]=i=e.$handleEvent(i),e._checkedOne(t,a)}}},[i("img",{staticClass:"quan_img list_img1",attrs:{src:e.display_img[a]?e.quan_hei:e.quan_hui}})]):e._e(),i("img",{staticClass:"dp_img",attrs:{src:t.img}}),i("v-uni-view",{staticClass:"dp_con"},[i("v-uni-view",{staticClass:"dp_con1"},[e._v(e._s(t.mch_name))]),i("v-uni-view",{staticClass:"dp_con2"},[e._v(e._s(t.collection_num)+"人收藏")])],1),i("v-uni-image",{staticClass:"dp_right",attrs:{src:e.toImage}})],1)}),0):i("div",{staticClass:"noFindDiv"},[i("div",[i("img",{staticClass:"noFindImg",attrs:{src:e.noCol}})]),i("span",{staticClass:"noFindText"},[e._v("您还没有收藏的店铺哦！")])])]),e.statevalue&&1==e.navType?i("div",{staticClass:"del"},[i("div",{staticClass:"del_sele",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._selectAll.apply(void 0,arguments)}}},[i("img",{staticClass:"quan_img",attrs:{src:e.selectAll1?e.quan_hei:e.quan_hui}}),i("span",[e._v("全选")])]),i("div",{staticClass:"del_div",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._delete.apply(void 0,arguments)}}},[e._v("取消收藏")])]):e.statevalue?i("div",{staticClass:"del"},[i("div",{staticClass:"del_sele",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._selectAll.apply(void 0,arguments)}}},[i("img",{staticClass:"quan_img",attrs:{src:e.selectAll?e.quan_hei:e.quan_hui}}),i("span",[e._v("全选")])]),i("div",{staticClass:"del_div",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e._delete.apply(void 0,arguments)}}},[e._v("取消收藏")])]):e._e()]:e._e()],2)},l=[];i.d(t,"b",function(){return n}),i.d(t,"c",function(){return l}),i.d(t,"a",function(){return a})},1001:function(e,t,i){"use strict";var a=i("5411"),n=i.n(a);n.a},"10f7":function(e,t,i){"use strict";var a=i("288e");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("ac6a");var n=a(i("f499")),l=a(i("cebc")),o=a(i("e814")),s=a(i("795b")),c=i("2f62"),d={data:function(){return{back:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/back2x.png",jiantou:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",noCol:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/noCol.png",toImage:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon/jiantou2x.png",collection:[],collection1:[],state:"编辑",statevalue:!1,selectvalue:"",selectvalue1:"",selectAll:"",selectAll1:"",selectArray:[],selectArray1:[],deletecolle:{},access_id:"",quan_hui:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehui2x.png",quan_hei:this.LaiKeTuiCommon.LKT_ROOT_VERSION_URL+"images/icon1/xuanzehei2x.png",display_img:[],display_img1:[],flag:!0,fastTap:!0,navActive:!0,navType:1,loadFlag:!1}},onLoad:function(){this.access_id=uni.getStorageSync("access_id")?uni.getStorageSync("access_id"):this.$store.state.access_id,this.navType=1,this._axios()},onShow:function(){var e=this,t=new s.default(function(t,i){e.LaiKeTuiCommon.getLKTApiUrl().then(function(){t(1231)})});t.then(function(){e.$nextTick(function(){e.$refs.lktAuthorizeComp.handleAfterAuth(e,"../login/login?landing_code=1",function(){e._axios()})})})},computed:{halfWidth:function(){var e=uni.getStorageSync("data_height")?uni.getStorageSync("data_height"):this.$store.state.data_height,t=(0,o.default)(e);return t+"px"}},methods:(0,l.default)({changeLoginStatus:function(){var e=this;e.access_id=uni.getStorageSync("access_id"),e._axios()},_goStore:function(e){console.log("shop_id---------"+(0,n.default)(e)),uni.navigateTo({url:"../../pagesA/store/store?shop_id="+e.mch_id})},_find:function(e){this.pro_id(e),uni.navigateTo({url:"discover?pro_id="+e})},_back:function(){this.flag=!1,uni.navigateBack({delta:1})},_state:function(){this.collection1.length||this.collection.length?(this.selectAll="",this.selectAll1="",this.statevalue=!this.statevalue,this.statevalue?this.state="完成":this.state="编辑"):(this.statevalue=!this.statevalue,this.statevalue?this.state="完成":this.state="编辑")},_axios:function(){var e=this,t={module:"app",action:"addFavorites",app:"collection",access_id:this.access_id,pro_id:this.pro_id,type:this.navType};uni.request({data:t,url:uni.getStorageSync("url"),header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){e.loadFlag=!0,200==t.data.code?1==e.navType?e.collection1=t.data.data:e.collection=t.data.data:(e.collection="",uni.showToast({title:t.data.message,duration:1500,icon:"none"}))}})},changeNav:function(e,t){var i=this;i.navActive=e,i.navType=t,this.loadFlag=!1,i._axios()},_checkedOne:function(e,t){var i=this;if(1==i.navType){var a=i.selectArray1.indexOf(e);if(i.statevalue){i.$refs.img;a<0?(i.selectArray1.push(e),i.$set(i.display_img1,t,!0)):(i.selectArray1.splice(a,1),i.$set(i.display_img1,t,!1)),i.selectArray1.length==i.collection1.length?i.selectAll1=!0:i.selectAll1=!1}}else{a=i.selectArray.indexOf(e);if(i.statevalue){i.$refs.img;a<0?(i.selectArray.push(e),i.$set(i.display_img,t,!0)):(i.selectArray.splice(a,1),i.$set(i.display_img,t,!1)),i.selectArray.length==i.collection.length?i.selectAll=!0:i.selectAll=!1}}},_selectHandle:function(e){var t=this;e.selectAll1=!e.selectAll1;t.$refs.img;if(e.selectAll1)for(var i=0;i<e.collection1.length;i++)t.$set(e.selectArray1,i,e.collection1[i]),t.$set(e.display_img1,i,!0);else{e.selectArray1=[];for(i=0;i<e.collection1.length;i++)t.$set(e.display_img1,i,!1)}return e},_selectAll:function(){var e=this;if(1==this.navType){var t={selectAll1:e.selectAll1,display_img1:e.display_img1,selectArray1:e.selectArray1,collection1:e.collection1};t=this._selectHandle(t),e.selectAll1=t.selectAll1}else{t={selectAll1:e.selectAll,display_img1:e.display_img,selectArray1:e.selectArray,collection1:e.collection};t=this._selectHandle(t),e.selectAll=t.selectAll1}},_delete:function(){var e=this;if(this.fastTap)if(this.fastTap=!1,this.selectArray1.length||this.selectArray.length){e.deletecolle.collection="",e.deletecolle.access_id=e.access_id,1==e.navType?this.selectArray1.forEach(function(t,i){e.deletecolle.collection+=t.id+","}):this.selectArray.forEach(function(t,i){e.deletecolle.collection+=t.id+","});var t=e.deletecolle;uni.request({data:t,url:uni.getStorageSync("url")+"&module=app&action=addFavorites&app=removeFavorites",header:{"content-type":"application/x-www-form-urlencoded"},method:"POST",success:function(t){e.fastTap=!0;var i=[],a=[];if(200==t.data.code){var n=e.deletecolle.collection;for(var l in n)1==e.navType?(e.selectArray1.forEach(function(e,t){n[l]!=e.id&&i.push(e)}),e.selectArray1=i):(e.selectArray.forEach(function(e,t){n[l]!=e.id&&a.push(e)}),e.selectArray=a);e.display_img1=[];for(var o=0;o<e.collection1.length;o++)e.display_img1.push(!1);e.display_img=[];for(o=0;o<e.collection.length;o++)e.display_img.push(!1);uni.showToast({title:t.data.message,duration:1500,icon:"none",success:function(){setTimeout(function(){e.collection=[],e.collection1=[],e._axios(),e.selectArray1=[],e.statevalue=!e.statevalue,e.state="编辑"},1500)}})}else uni.showToast({title:t.data.message,duration:1500,icon:"none"});for(o=0;o<e.display_img.length;o++)e.$set(e.display_img1,o,!1)},error:function(){e.fastTap=!0}})}else this.fastTap=!0,uni.showToast({title:"请选择需要删除的商品！",duration:1e3,icon:"none"})},_goods:function(e){this.pro_id(e),uni.navigateTo({url:"../goods/goodsDetailed"})}},(0,c.mapMutations)({pro_id:"SET_PRO_ID"})),components:{}};t.default=d},"179a":function(e,t,i){t=e.exports=i("2350")(!1),t.push([e.i,".box[data-v-fe0e9cb6]{\n  /* min-height: 100vh; */display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;height:100vh;overflow:hidden}.header[data-v-fe0e9cb6]{background-color:#fff;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0 %?30?%}.header uni-view[data-v-fe0e9cb6]{font-size:%?32?%}.header img[data-v-fe0e9cb6]{width:%?24?%;height:%?36?%}.header p[data-v-fe0e9cb6]{font-size:%?40?%;color:#020202}.header p[data-v-fe0e9cb6]:last-child{font-size:%?28?%;font-weight:100}.header .occupation[data-v-fe0e9cb6]{\n  /* flex: 1; */}.manege[data-v-fe0e9cb6]{width:%?120?%;height:%?70?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:%?30?%;color:#020202;margin-left:auto}ul[data-v-fe0e9cb6],\n.del[data-v-fe0e9cb6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.del[data-v-fe0e9cb6],\n.del_sele[data-v-fe0e9cb6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row nowrap;flex-flow:row nowrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.del[data-v-fe0e9cb6]{height:%?98?%;width:100%;font-size:%?30?%;color:#242424;border-top:1px solid #eee;position:fixed;left:0;bottom:0;z-index:20;background-color:#fff;padding-left:%?30?%}.del_div[data-v-fe0e9cb6]{width:%?240?%;background-color:#242424;height:100%;color:#fff;line-height:%?98?%;text-align:center;margin-left:%?30?%}.del span[data-v-fe0e9cb6]{margin-left:%?0?%}.del > p[data-v-fe0e9cb6]{color:#e83737}ul[data-v-fe0e9cb6]{padding:%?30?% %?20?% 0 %?20?%;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;flex-flow:row wrap;font-size:%?30?%}li[data-v-fe0e9cb6]{width:100%;border-radius:%?10?%;margin-bottom:%?2?%;background-color:#fff;padding-bottom:%?20?%}.list_li[data-v-fe0e9cb6]{display:-webkit-box;display:-webkit-flex;display:flex;margin-bottom:%?20?%;border-radius:%?0?%;border-bottom:%?1?% solid #eee}.list_imgBox[data-v-fe0e9cb6]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list_img[data-v-fe0e9cb6],\n.list_img1[data-v-fe0e9cb6]{width:%?34?%;height:%?34?%}li > img[data-v-fe0e9cb6]{width:%?200?%;height:%?200?%;\n  /* border-top-left-radius: 10upx;\n\t\tborder-top-right-radius: 10upx; */vertical-align:middle;float:left}.describe[data-v-fe0e9cb6]{color:#020202;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.collection_button .span_b1[data-v-fe0e9cb6]{color:red}.collection_button .span_b2[data-v-fe0e9cb6]{color:#999;text-decoration:line-through;font-size:%?24?%;display:inline-block;margin-left:%?10?%}.collection_button div[data-v-fe0e9cb6]{width:%?100?%;height:%?44?%;font-size:%?24?%;font-family:PingFang-SC-Medium;font-weight:500;border:1px solid #ddd;text-align:center;line-height:%?40?%;border-radius:%?22?%;float:right}.collection_button > div > span[data-v-fe0e9cb6]{font-size:%?24?%;color:#020202}.collection_button > div > img[data-v-fe0e9cb6]{vertical-align:inherit;width:%?8?%;height:%?14?%}.left[data-v-fe0e9cb6]{position:relative}.describe i[data-v-fe0e9cb6],\n.del i[data-v-fe0e9cb6]{width:%?30?%;height:%?30?%;border:%?1?% solid #999;border-radius:50%}.describe i[data-v-fe0e9cb6]{display:block;position:absolute;left:0;top:%?8?%}.describe i > img[data-v-fe0e9cb6],\n.del i > img[data-v-fe0e9cb6]{vertical-align:top;width:%?28?%;height:%?28?%}.describe i > img[data-v-fe0e9cb6]{display:none}.active[data-v-fe0e9cb6]{opacity:.8}.quan_img[data-v-fe0e9cb6]{vertical-align:middle;margin-right:%?10?%;padding:%?10?%;width:%?34?%!important;height:%?34?%!important}.none1[data-v-fe0e9cb6]{text-align:center;padding-top:45%}.none1 img[data-v-fe0e9cb6]{width:%?160?%;height:%?160?%;display:block;margin:0 auto;margin-bottom:%?30?%}.sc_right_X[data-v-fe0e9cb6]{width:%?401?%;float:left;margin-left:%?30?%}.sc_right_Y[data-v-fe0e9cb6]{width:%?458?%;float:left;margin-left:%?30?%}.dp_css[data-v-fe0e9cb6]{font-size:%?24?%;font-family:PingFang-SC-Medium;font-weight:500;color:#999;margin-top:%?24?%;margin-bottom:%?32?%}.noFindDiv[data-v-fe0e9cb6]{padding-top:%?240?%!important}.nav_twin[data-v-fe0e9cb6]{font-size:%?30?%;font-family:PingFang-SC-Medium;color:#999;width:50%;text-align:center;float:left;height:%?90?%;line-height:%?90?%;position:relative}.twins[data-v-fe0e9cb6]{width:100%;height:%?90?%;background:#fff;border-top:1px solid #eee;border-bottom:1px solid #eee}.nav_twin_hover[data-v-fe0e9cb6]{font-size:%?30?%;font-family:PingFang-SC-Bold;font-weight:700;color:#020202}.nav_line[data-v-fe0e9cb6]{position:absolute;bottom:%?0?%;left:29.9%;width:%?150?%;height:%?6?%;background:#020202;display:block}.dp_img[data-v-fe0e9cb6]{width:%?80?%!important;height:%?80?%!important;float:left}.dp_con[data-v-fe0e9cb6]{-webkit-box-flex:1;-webkit-flex:1;flex:1;margin-left:%?20?%;margin-right:%?30?%;height:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.dp_con1[data-v-fe0e9cb6]{font-size:%?28?%;font-family:PingFang-SC-Medium;font-weight:500;color:#020202}.dp_con2[data-v-fe0e9cb6]{font-size:%?22?%;font-family:PingFang-SC-Medium;font-weight:500;color:#999}.dp_right[data-v-fe0e9cb6]{width:%?16?%;height:%?28?%;float:right;margin-top:%?30?%}.status_p[data-v-fe0e9cb6]{position:relative;z-index:9999;height:%?80?%;\n  /* width:100%; */display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-right:%?30?%;font-size:%?28?%;color:#020202;background:#f8f8f8}.data_h_h[data-v-fe0e9cb6]{position:fixed;top:0;width:100%;background:#fff}.navtion[data-v-fe0e9cb6]{z-index:100;width:100%}.navtion > div[data-v-fe0e9cb6]{height:%?88?%}.bg_F6[data-v-fe0e9cb6]{background:#f6f6f6}\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 订单模块颜色值 */\n/* 背景颜色 */\n/*  背景渐变色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */",""])},5411:function(e,t,i){var a=i("179a");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=i("4f06").default;n("f87c5316",a,!0,{sourceMap:!1,shadowMode:!1})},"57d9":function(e,t,i){"use strict";i.r(t);var a=i("0652"),n=i("8ce3");for(var l in n)"default"!==l&&function(e){i.d(t,e,function(){return n[e]})}(l);i("1001");var o,s=i("f0c5"),c=Object(s["a"])(n["default"],a["b"],a["c"],!1,null,"fe0e9cb6",null,!1,a["a"],o);t["default"]=c.exports},"8ce3":function(e,t,i){"use strict";i.r(t);var a=i("10f7"),n=i.n(a);for(var l in a)"default"!==l&&function(e){i.d(t,e,function(){return a[e]})}(l);t["default"]=n.a}}]);